# File Dependency Processor

Приложение для анализа и объединения текстовых файлов с учетом их зависимостей.

## Требования

* Java 8 JDK
* Настроенная переменная JAVA_HOME
* Настроенная переменная PATH, включающая путь к bin директории Java

## Настройка окружения

### 1. Настройка кодировки

Для корректной работы с кириллицей необходимо добавить системную переменную:

**Windows:**
```bash
setx JAVA_TOOL_OPTIONS "-Dfile.encoding=UTF8"
```

**Linux/MacOS:**
```bash
export JAVA_TOOL_OPTIONS="-Dfile.encoding=UTF8"
```

Для постоянного действия на Linux/MacOS добавьте эту строку в ~/.bashrc или ~/.zshrc

### 2. Проверка настроек

Убедитесь, что Java установлена корректно:
```bash
java -version
```

Должна отобразиться версия Java 8 (1.8.x)

## Компиляция

1. Перейдите в директорию с исходным кодом:
```bash
cd path/to/project
```

2. Создайте директорию для скомпилированных файлов:
```bash
mkdir build
```

3. Скомпилируйте исходные файлы:
```bash
javac -d build src/main/java/com/fileprocessor/*.java
```

## Запуск

Для запуска приложения используйте следующую команду:

```bash
java -cp build com.fileprocessor.Main <путь_к_корневой_папке> <путь_к_выходному_файлу>
```

Например:
```bash
java -cp build com.fileprocessor.Main ./input ./output.txt
```

### Примечания

* Входная директория должна существовать
* Если выходной файл не существует, он будет создан
* Все текстовые файлы должны быть в кодировке UTF-8

## Формат зависимостей

В текстовых файлах зависимости указываются в формате:
```
*require 'путь_к_файлу'*
```

Например:
```
*require 'folder1/file1.txt'*
```

## Обработка ошибок

Программа выведет сообщение об ошибке в следующих случаях:
* Обнаружена циклическая зависимость между файлами
* Не найден требуемый файл зависимости
* Проблемы с доступом к файлам или директориям

## Примеры использования

### Простой случай
```
input/
  ├── file1.txt
  └── file2.txt
```

```bash
java -cp build com.fileprocessor.Main ./input ./output.txt
```

### Случай с вложенными папками
```
input/
  ├── folder1/
  │   ├── file1.txt
  │   └── file2.txt
  └── folder2/
      └── file3.txt
```

```bash
java -cp build com.fileprocessor.Main ./input ./output.txt
```

## Устранение проблем

### Проблемы с кодировкой
Если вы видите неправильное отображение кириллицы:
1. Убедитесь, что переменная JAVA_TOOL_OPTIONS установлена корректно
2. Перезапустите терминал/командную строку
3. Проверьте кодировку входных файлов (должна быть UTF-8)

### Проблемы с компиляцией
Если возникают ошибки при компиляции:
1. Проверьте версию Java: `java -version`
2. Убедитесь, что все исходные файлы находятся в правильных пакетах
3. Проверьте права доступа к директориям